<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Forms</title>

    <link rel="stylesheet/less" type="text/css" href="less/style.less">
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/flick/jquery-ui.css">
    
    <script src="js/libs/less/less.js" type="text/javascript"></script>
    <script type="text/javascript">
        // less.env = 'development';
        // less.watch();
    </script>

    <script data-main="js/main" src="js/libs/require/require.js"></script>
</head>
<body>

    <div class="navbar">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="#">Statler3 Forms</a>
                <div class="nav-collapse">
                    <ul class="nav">
                        <li class="divider-vertical"></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                Forms
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="">Client</a></li>
                            </ul>
                        </li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>
    </div>

    <div class="container-fluid" style="margin: 2em;">
        <div class="row-fluid">
            <div class="span3">
                <div class="well">sidebar</div>
            </div>
            <div class="span9">

                <div id="form-here"></div>
                
            </div>
            
        </div>
    </div>

    <script type="text/javascript">
    define([ 'jquery', 'backbone', 'model/client', 'model/email', 'model/website', 'StatlerForm', 'chosen', 'libs/bootstrap/bootstrap-dropdown' ],
    function( $, Backbone, Client, Email, Website, StatlerForm ){
        this.client = new Client({
            name : 'Asdf'
        });
            // client.url = 'client/url/changed';
            // client.fetch();

        this.clientForm = new StatlerForm({
            model: this.client,
            fieldsets: [
                {
                    legend: 'Client Information',
                    fields: ['name', 'slug', 'status', 'alias']
                },
                {
                    legend: 'Contact Information',
                    fields: ['accountManager', 'address', 'twitter', 'website']
                },
                {
                    legend: 'Additional Information',
                    fields: ['affiliateCode', 'taxId']
                }
            ]
        });

        $('#form-here').html( this.clientForm.render().el );

        $('.chosen').chosen();
    });
    </script>

</body>
</html>